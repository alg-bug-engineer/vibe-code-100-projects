# 日程卡片展示效果示意

## 优化前后对比

### 优化前（原有设计）

```
┌─────────────────────────────────────────────────────────┐
│ ○ 团队会议                                    ⚠️       │
│                                                         │
│ [日程] [📅 10月15日 14:00 - 16:00]                     │
│                                                         │
│ 讨论项目进展和下一步计划                                │
│                                                         │
│ #工作 #会议                                             │
│ 2025-10-01 10:30                                       │
└─────────────────────────────────────────────────────────┘
```

### 优化后（新设计）

```
┌─────────────────────────────────────────────────────────┐
│ ○ 团队会议                                    ⚠️       │
│                                                         │
│ ╔═══════════════════════════════════════════════════╗  │
│ ║ 📅                                                 ║  │
│ ║   2025年10月15日 星期二                            ║  │
│ ║   14:00 → 16:00  (120分钟)                        ║  │
│ ╚═══════════════════════════════════════════════════╝  │
│                                                         │
│ [日程]                                                  │
│                                                         │
│ 讨论项目进展和下一步计划                                │
│                                                         │
│ #工作 #会议                                             │
│ 2025-10-01 10:30                                       │
└─────────────────────────────────────────────────────────┘
```

## 关键改进点

### 1. 专属时间展示区域
- **位置**：在标题和类型标签之间
- **样式**：渐变背景（蓝色系）+ 边框
- **内容**：完整的日期时间信息

### 2. 信息层次
```
第一层 - 日期（最显眼）
  ├─ 字体：粗体
  ├─ 颜色：深蓝色
  └─ 格式：yyyy年MM月dd日 星期X

第二层 - 时间范围
  ├─ 字体：中等粗细
  ├─ 颜色：蓝色
  └─ 格式：HH:mm → HH:mm

第三层 - 持续时间（辅助信息）
  ├─ 字体：小字
  ├─ 颜色：浅蓝色
  └─ 格式：(XX分钟)
```

### 3. 视觉元素

#### 颜色方案

**浅色模式：**
```
背景渐变：#EFF6FF → #E0E7FF (蓝色 → 靛蓝色)
边框：#DBEAFE (浅蓝)
日期文字：#1E3A8A (深蓝)
时间文字：#1D4ED8 (蓝色)
持续时间：#2563EB (中蓝)
图标：#2563EB (蓝色)
```

**深色模式：**
```
背景渐变：#172554/30 → #312E81/30 (深蓝 → 深靛)
边框：#1E3A8A/50 (深蓝半透明)
日期文字：#DBEAFE (浅蓝)
时间文字：#93C5FD (淡蓝)
持续时间：#60A5FA (中蓝)
图标：#60A5FA (淡蓝)
```

#### 图标使用
- **日历图标**：20x20px
- **箭头符号**：→ (表示时间范围)

## 日历视图中的改进

### 月视图格子

**优化前：**
```
┌───────────┐
│ 15        │
│           │
│ 团队会议  │
│           │
└───────────┘
```

**优化后：**
```
┌───────────┐
│ 15        │
│           │
│ 团队会议  │
│ 14:00-16:00│
└───────────┘
```

## 不同场景的展示

### 场景 1：有开始和结束时间

```
╔═══════════════════════════════════════════════════╗
║ 📅                                                 ║
║   2025年11月01日 星期五                            ║
║   09:00 → 10:30  (90分钟)                         ║
╚═══════════════════════════════════════════════════╝
```

### 场景 2：只有截止时间

```
╔═══════════════════════════════════════════════════╗
║ 📅                                                 ║
║   2025年11月01日 星期五                            ║
║   17:00                                            ║
╚═══════════════════════════════════════════════════╝
```

### 场景 3：跨天日程

```
╔═══════════════════════════════════════════════════╗
║ 📅                                                 ║
║   2025年11月01日 星期五                            ║
║   22:00 → (次日) 02:00  (240分钟)                 ║
╚═══════════════════════════════════════════════════╝
```

## 响应式设计

### 桌面端 (>768px)
- 完整展示所有信息
- 渐变背景 + 阴影效果
- 图标尺寸：20x20px

### 平板端 (768px - 1024px)
- 保持完整信息
- 略微压缩间距
- 图标尺寸：18x18px

### 移动端 (<768px)
- 优先显示日期和时间
- 可选择隐藏持续时间
- 图标尺寸：16x16px

## 可访问性考虑

1. **颜色对比度**
   - 文字与背景对比度 ≥ 4.5:1
   - 在深色模式下保持良好可读性

2. **语义化标记**
   - 使用合适的 HTML 标签
   - 提供 title 属性作为补充说明

3. **键盘导航**
   - 支持 Tab 键导航
   - 焦点状态清晰可见

## 技术实现要点

### 依赖库
- `date-fns` - 日期格式化
- `date-fns/locale/zh-CN` - 中文本地化
- `lucide-react` - 图标组件

### 关键函数
```typescript
// 计算持续时间（分钟）
const duration = Math.round(
  (new Date(item.end_time).getTime() - new Date(item.start_time).getTime()) / 60000
);

// 格式化日期
format(new Date(item.start_time), 'yyyy年MM月dd日 EEEE', { locale: zhCN })

// 格式化时间
format(new Date(item.start_time), 'HH:mm', { locale: zhCN })
```

## 性能优化

1. **条件渲染**：只在日程类型时渲染额外的时间区域
2. **记忆化**：使用 React.memo 避免不必要的重渲染
3. **懒加载**：图片和长列表使用懒加载

## 测试清单

- [ ] 日程卡片正确显示完整日期
- [ ] 时间范围格式正确（HH:mm → HH:mm）
- [ ] 持续时间计算准确
- [ ] 深色模式下颜色正确
- [ ] 浅色模式下颜色正确
- [ ] 响应式布局正常
- [ ] 无障碍性符合标准
- [ ] 在日历视图中正常显示
- [ ] 性能无明显下降

## 反馈与迭代

用户可能的反馈点：
1. 时间区域是否太显眼？
2. 是否需要提供紧凑模式？
3. 持续时间信息是否必要？
4. 是否需要支持多时区？

根据用户反馈持续优化。
