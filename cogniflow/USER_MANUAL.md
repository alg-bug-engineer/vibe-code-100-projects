# CogniFlow 用户手册

> 智能信息管理工具 - 让 AI 帮你整理碎片化信息

## 📖 目录

- [产品简介](#产品简介)
- [快速开始](#快速开始)
- [核心功能](#核心功能)
- [使用指南](#使用指南)
- [数据备份](#数据备份)
- [常见问题](#常见问题)

---

## 产品简介

CogniFlow 是一款由 AI 驱动的智能信息管理工具，帮助您轻松管理日常工作和生活中的碎片化信息。

### 核心理念

**你只管记录，我负责管理**

### 主要特性

- 🤖 **AI 智能分类**：自动识别任务、日程、笔记、资料
- ⚡ **流式输入**：像聊天一样快速记录信息
- 📊 **智能仪表盘**：四个视图高效管理信息
- 🏷️ **自动标签**：AI 自动提取关键词标签
- 🔗 **链接智能处理**：自动获取网页标题和摘要
- 📅 **日历视图**：可视化查看日程安排
- 🔍 **自然语言查询**：用自然语言搜索信息
- 💾 **自动备份**：定期自动备份，防止数据丢失
- 🌙 **深色模式**：支持明暗主题切换

---

## 快速开始

### 1. 环境配置

#### 安装依赖
```bash
npm install
```

#### 配置 AI API
在 `.env` 文件中配置智谱 AI API：

```env
VITE_GLM_API_KEY=your_api_key_here
VITE_GLM_MODEL=glm-4-flash
```

**获取 API Key**：
1. 访问 [智谱AI开放平台](https://open.bigmodel.cn/)
2. 注册/登录账号
3. 创建 API Key
4. 复制到 `.env` 文件

### 2. 启动应用

```bash
npm run dev -- --host 127.0.0.1
```

应用将在 `http://127.0.0.1:5173` 启动。

### 3. 首次使用

1. **登录**：使用手机号登录
2. **首位用户自动成为管理员**
3. **开始记录**：在底部输入框输入任何信息

---

## 核心功能

### 1. 流式输入

在页面底部输入框中，像发消息一样输入任何信息：

```
示例输入：
- "明天下午3点开会"
- "记得买牛奶"
- "产品改进想法：增加语音输入"
- "https://example.com"
```

**特点**：
- ✅ Enter 快速发送，Shift+Enter 换行
- ✅ 异步处理，提交后立即可以继续输入
- ✅ 显示"处理中"状态
- ✅ AI 在后台自动分析和分类

### 2. 智能分类

AI 自动将输入分为四种类型：

| 类型 | 图标 | 说明 | 示例 |
|------|------|------|------|
| **任务** | ☑️ | 需要完成的待办事项 | "写报告"、"发邮件" |
| **日程** | 📅 | 有明确时间的活动 | "明天下午3点开会" |
| **笔记** | 📝 | 灵感、想法、备忘 | "产品改进想法" |
| **资料** | 📄 | 需要保存的信息 | 网址、文档链接 |

### 3. 智能仪表盘

#### 📅 今日视图
- 显示今天的任务和日程
- 过期任务红色提醒
- 优先级排序

#### 📆 即将发生
- 显示未来的任务和日程
- 按时间排序
- 日期分组显示

#### 📥 收件箱
- 无时间限制的笔记和资料
- 灵感和想法的存储空间
- 临时信息收集

#### 🏷️ 主题视图
- AI 自动提取的标签
- 点击标签筛选相关内容
- 快速找到同类信息

### 4. 日历视图

可视化查看日程安排：
- 月历显示所有日程
- 点击日期查看详细内容
- 支持重复日程（每日、每周、每月）

### 5. 智能查询

使用自然语言搜索信息：

```
查询示例：
- "今天有什么安排？"
- "下周的任务"
- "所有工作相关的笔记"
- "标签为项目的条目"
```

**支持的查询类型**：
- 时间查询（今天、明天、本周、本月）
- 类型查询（所有任务、所有日程）
- 标签查询（特定标签的内容）
- 关键词搜索

### 6. URL 智能处理

输入网址后，AI 自动：
- 获取网页标题
- 生成内容摘要
- 提取缩略图
- 创建资料卡片

---

## 使用指南

### 条目管理

每个信息卡片支持以下操作：

#### 基本操作
- ✅ **完成**：标记任务或日程为已完成
- ✏️ **编辑**：修改标题、描述、时间等
- 📋 **归档**：将不需要的条目归档
- 🗑️ **删除**：永久删除条目

#### 编辑功能
在编辑对话框中可以修改：
- 标题
- 描述
- 类型（任务/日程/笔记/资料）
- 时间信息
- 优先级（高/中/低）
- 状态（待办/进行中/已完成）
- 标签

#### 重复日程
对于日程类型，可以设置重复规则：
- **每日重复**：每天重复
- **每周重复**：每周的同一天
- **每月重复**：每月的同一天
- **自定义结束日期**

### 标签管理

#### 自动标签
- AI 自动从输入中提取关键词
- 常见主题自动分类（工作、生活、学习等）

#### 手动标签
- 编辑条目时可以添加或删除标签
- 在主题视图中点击标签筛选

#### 标签统计
- 显示每个标签的使用次数
- 按使用频率排序
- 快速找到常用主题

### 优先级管理

三种优先级：
- 🔴 **高优先级**：重要紧急的事项
- 🟡 **中优先级**：常规事项
- 🟢 **低优先级**：不紧急的事项

### 状态管理

三种状态：
- **待办**：未开始的任务
- **进行中**：正在处理的任务
- **已完成**：完成的任务

### 归档功能

不再需要但想保留的信息可以归档：
1. 点击条目卡片上的归档按钮
2. 归档后不会在主视图显示
3. 可以通过筛选查看归档的条目

---

## 数据备份

### 自动备份

应用启动后自动开始备份，无需配置：
- ⏰ **默认间隔**：每 30 分钟自动备份
- 💾 **存储位置**：浏览器本地存储
- 🔄 **保留数量**：最近 10 个备份
- 🤖 **后台运行**：不影响正常使用

### 备份管理

访问备份管理界面：
1. 点击右上角头像/菜单
2. 选择"管理面板"
3. 切换到"数据备份"标签

#### 查看备份统计
- 备份总数
- 总大小
- 最后备份时间
- 运行状态

#### 配置自动备份
可以自定义：
- 启用/禁用自动备份
- 备份间隔（5-1440 分钟）
- 保留备份数量（1-20 个）
- 是否自动下载到文件

#### 手动备份
重要操作前建议手动备份：
1. 点击"立即备份"按钮
2. 等待备份完成
3. 新备份出现在历史列表

#### 从备份恢复

**方式一：从历史备份恢复**
1. 在备份历史中找到目标备份
2. 点击"恢复"按钮
3. 确认对话框中点击"确认恢复"
4. 等待恢复完成并自动刷新

**方式二：从文件恢复**
1. 点击"从文件恢复"按钮
2. 选择之前下载的 `.json` 备份文件
3. 等待恢复完成并自动刷新

⚠️ **注意**：恢复操作会覆盖当前所有数据，建议先备份！

#### 下载备份到文件
为了更安全，建议定期下载备份到本地：
1. 在备份历史中点击"下载"按钮
2. 保存 JSON 文件到安全位置
3. 建议每周备份一次到云盘

### 备份最佳实践

1. ✅ **保持自动备份开启**（第一道防线）
2. ✅ **重要操作前手动备份**（额外保险）
3. ✅ **定期下载文件备份**（每周一次）
4. ✅ **保存到云盘**（百度云、阿里云盘等）

---

## 常见问题

### 登录与账号

**Q: 如何注册账号？**  
A: 直接使用手机号登录即可，系统会自动创建账号。

**Q: 忘记密码怎么办？**  
A: 本应用使用本地认证，只需手机号即可登录。

**Q: 如何成为管理员？**  
A: 第一个注册的用户自动成为管理员。管理员可以在管理面板中设置其他用户的角色。

### 数据与安全

**Q: 数据存储在哪里？**  
A: 数据存储在浏览器的 IndexedDB 中，完全本地化。

**Q: 更换浏览器后数据还在吗？**  
A: 不在。数据存储在浏览器本地，建议使用备份功能导出数据后在新浏览器导入。

**Q: 如何防止数据丢失？**  
A: 
1. 保持自动备份开启
2. 定期下载备份文件到云盘
3. 不要清除浏览器数据

**Q: 清除浏览器缓存会丢失数据吗？**  
A: 是的。清除数据前请先备份！

### 功能使用

**Q: 为什么输入后显示"处理中"？**  
A: AI 正在后台分析您的输入，处理完成后会自动更新为真实内容。这样设计可以让您连续快速输入多条信息。

**Q: 如何修改已创建的条目？**  
A: 点击条目卡片上的"编辑"按钮，在对话框中修改信息。

**Q: 标签可以手动添加吗？**  
A: 可以。在编辑对话框中可以添加或删除标签。

**Q: 如何设置重复日程？**  
A: 编辑日程类型的条目，在编辑对话框中可以设置重复规则和结束日期。

**Q: 输入网址后没有自动获取信息？**  
A: 请确保网址格式正确（以 http:// 或 https:// 开头），并检查网络连接。

### AI 功能

**Q: AI 识别不准确怎么办？**  
A: 可以通过编辑功能手动修改类型、标签等信息。

**Q: 为什么有时 AI 处理很慢？**  
A: 可能是网络问题或 API 服务繁忙，请稍后重试。

**Q: AI 需要付费吗？**  
A: 需要配置智谱 AI 的 API Key，使用智谱 AI 的计费标准。

### 备份与恢复

**Q: 自动备份会占用很多空间吗？**  
A: 不会。系统会限制备份数量，并自动清理旧备份。

**Q: 可以导出所有数据吗？**  
A: 可以。在备份管理中下载备份文件即可导出所有数据（JSON 格式）。

**Q: 如何在新设备上恢复数据？**  
A: 
1. 在旧设备下载备份文件
2. 在新设备打开应用
3. 在备份管理中"从文件恢复"

**Q: 恢复数据会覆盖现有数据吗？**  
A: 是的。恢复前建议先创建当前数据的备份。

---

## 技术支持

### 开发文档

- [开发指南](./docs/DEVELOPER_GUIDE.md) - 开发者文档
- [部署指南](./DEPLOYMENT_CHECKLIST.md) - 生产环境部署

### 问题反馈

如遇到问题或有建议，请联系开发团队。

---

**版本**：v1.5.0  
**更新日期**：2025-01-29  
**文档维护**：CogniFlow Team
